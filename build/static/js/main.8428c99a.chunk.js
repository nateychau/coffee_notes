(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{64:function(e,t,n){"use strict";n.r(t);var a=n(0),s=n(1),c=n.n(s),i=n(34),o=n.n(i),r=n(2),l=n(5),d=n(36),h=n(7),j=Object(l.g)((function(e){var t=e.component,n=e.path,s=e.exact;return Object(a.jsx)(l.b,{path:n,exact:s,render:function(e){return window.currentUser?Object(a.jsx)(l.a,{to:"/"}):Object(a.jsx)(t,Object(h.a)({},e))}})})),b=Object(l.g)((function(e){var t=e.component,n=Object(d.a)(e,["component"]);return Object(a.jsx)(l.b,Object(h.a)(Object(h.a)({},n),{},{render:function(e){return window.currentUser?Object(a.jsx)(t,Object(h.a)({},e)):Object(a.jsx)(l.a,{to:"/"})}}))})),u=n(16),m=n(8),O=n(9),x=n(3),p=n(11),g=n(10),f=n(4),v=n.n(f),N=function(e){return v.a.get("/api/beans/".concat(e))},w=function(e){return v.a.patch("/api/beans",e)},y=function(){return v.a.get("/api/spotify/getMe")},C=n(19),S=function(e){e?v.a.defaults.headers.common.Authorization=e:delete v.a.defaults.headers.common.Authorization},k=function(e){var t=e.data.token;localStorage.setItem("jwtToken",t),S(t),window.currentUser=Object(C.a)(t),window.location.href="/"},B=function(){localStorage.removeItem("jwtToken"),S(!1),window.currentUser=null,window.location.href="/"},T={email:"",password:"",passwordConfirm:"",name:"",errorList:{}},E=function(e){Object(p.a)(n,e);var t=Object(g.a)(n);function n(e){var a;return Object(m.a)(this,n),(a=t.call(this,e)).state={type:"Login",email:"",password:"",passwordConfirm:"",name:"",termsAndService:!1,errorList:{}},a.handleChange=a.handleChange.bind(Object(x.a)(a)),a.signup=a.signup.bind(Object(x.a)(a)),a.login=a.login.bind(Object(x.a)(a)),a.switchForm=a.switchForm.bind(Object(x.a)(a)),a}return Object(O.a)(n,[{key:"handleChange",value:function(e){this.setState(Object(u.a)({},e.target.name,e.target.value))}},{key:"switchForm",value:function(){"Sign up"===this.state.type?this.setState(Object(h.a)({type:"Login"},T)):this.setState(Object(h.a)({type:"Sign up"},T))}},{key:"login",value:function(){var e=this;(function(e){return v.a.post("/api/users/login",e)})({email:this.state.email,password:this.state.password}).then((function(e){k(e)})).catch((function(t){console.log(t.response.data),e.setState({errorList:t.response.data})}))}},{key:"signup",value:function(){var e=this;!1!==this.state.termsAndService?function(e){return v.a.post("/api/users/signup",e)}({email:this.state.email,password:this.state.password,passwordConfirm:this.state.passwordConfirm,name:this.state.name}).then((function(e){k(e)})).catch((function(t){console.log(t.response.data),e.setState({errorList:t.response.data})})):alert("please agree to the terms and service")}},{key:"render",value:function(){var e,t;return"Sign up"===this.state.type?(e="Login!",t=this.signup):(e="Sign up!",t=this.login),Object(a.jsxs)("div",{className:"auth-body",children:[Object(a.jsxs)("div",{className:"logo",children:[Object(a.jsx)("div",{className:"logoImage"}),Object(a.jsx)("div",{className:"logoText",children:" coffee note "})]}),Object(a.jsxs)("div",{className:"auth-form-container",children:[Object(a.jsxs)("form",{className:"auth-form",children:[Object(a.jsx)("div",{className:"formType",children:this.state.type}),"Sign up"===this.state.type?Object(a.jsx)("input",{type:"text",placeholder:"name",value:this.state.name,name:"name",onChange:this.handleChange}):null,Object(a.jsx)("input",{type:"text",placeholder:"email",value:this.state.email,name:"email",onChange:this.handleChange}),this.state.errorList.email?Object(a.jsx)("div",{className:"auth-error",children:this.state.errorList.email}):null,Object(a.jsx)("input",{type:"password",placeholder:"password",value:this.state.password,name:"password",onChange:this.handleChange}),this.state.errorList.password?Object(a.jsx)("div",{className:"auth-error",children:this.state.errorList.password}):null,"Sign up"===this.state.type?Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("input",{type:"password",placeholder:"confirm password",value:this.state.passwordConfirm,name:"passwordConfirm",onChange:this.handleChange}),Object(a.jsxs)("label",{className:"termsAndService",children:[Object(a.jsx)("input",{type:"checkbox",name:"termsAndService",className:"termsAndServiceSelector",onChange:this.handleChange}),"I agree to the terms and service."]})]}):null]}),"Login"===this.state.type?Object(a.jsxs)("span",{className:"switchToForm",children:[Object(a.jsx)("div",{className:"switchToFormText",children:" Don't have an account? "}),Object(a.jsx)("button",{className:"switchToFormButton",onClick:this.switchForm,children:e})]}):Object(a.jsxs)("div",{className:"switchToForm",children:[Object(a.jsx)("div",{className:"switchToFormText",children:" Already have an account? "}),Object(a.jsx)("button",{className:"switchToFormButton",onClick:this.switchForm,children:e})]}),Object(a.jsx)("button",{className:"formActionButton",onClick:t,children:this.state.type})]})]})}}]),n}(c.a.Component),I=function(){return Object(a.jsx)(r.b,{to:"/",id:"back-btn",children:Object(a.jsx)("button",{children:Object(a.jsx)("i",{className:"fas fa-angle-left"})})})},F=function(){return Object(a.jsxs)("div",{className:"header",children:[Object(a.jsx)("div",{className:"header-logo"}),Object(a.jsx)("div",{children:"coffee note"})]})},D=function(e){Object(p.a)(n,e);var t=Object(g.a)(n);function n(e){var a;return Object(m.a)(this,n),(a=t.call(this,e)).state={},a}return Object(O.a)(n,[{key:"componentDidMount",value:function(){var e=this;y().then((function(t){e.setState(Object(h.a)({},t.data)),console.log(e.state)})).catch((function(e){return console.log(e)}))}},{key:"render",value:function(){return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(F,{}),Object(a.jsx)(I,{}),Object(a.jsxs)("div",{className:"settings-container",children:[Object(a.jsx)("h2",{children:"Settings"}),Object(a.jsx)("div",{className:"img-container",children:"Placeholder"}),Object(a.jsx)("h4",{children:"Name"}),Object(a.jsx)("div",{className:"settings-field",children:window.currentUser.name}),Object(a.jsx)("h4",{children:"Email"}),Object(a.jsx)("div",{className:"settings-field",children:window.currentUser.email}),Object(a.jsx)("h4",{children:" Spotify Account "}),Object(a.jsx)("div",{className:"settings-field",children:this.state.display_name}),Object(a.jsx)(r.b,{to:{pathname:"/spotify/login"},children:Object(a.jsx)("button",{className:"spotifyButton",children:" Connect your Spotify Account "})}),Object(a.jsx)("button",{className:"logoutButton",onClick:B,children:"Log Out"})]})]})}}]),n}(c.a.Component),M=["Dark","Medium","Light","Other"],L={name:"",roaster:"",origin:"",roast:"",rating:0,song:""},A=function(e){Object(p.a)(n,e);var t=Object(g.a)(n);function n(e){var a;return Object(m.a)(this,n),(a=t.call(this,e)).defaultState=a.props.bean?Object(h.a)({},a.props.bean):Object(h.a)({},L),a.state=a.defaultState,a.handleChange=a.handleChange.bind(Object(x.a)(a)),a.handleSubmit=a.handleSubmit.bind(Object(x.a)(a)),a.handleCancel=a.handleCancel.bind(Object(x.a)(a)),a}return Object(O.a)(n,[{key:"handleChange",value:function(e){this.setState(Object(u.a)({},e.target.name,e.target.value))}},{key:"handleCancel",value:function(){this.setState(Object(h.a)({},this.defaultState)),this.props.handleStopEditing()}},{key:"handleSubmit",value:function(){var e=this,t={userId:window.currentUser.id,name:this.state.name,roaster:this.state.roaster,origin:this.state.origin,roast:this.state.roast,rating:this.state.rating,song:this.state.song};this.props.bean&&(t.id=this.props.bean._id);var n,a=this.props.bean?w(t):(n=t,v.a.post("/api/beans",n));console.log(t),a.then((function(t){e.props.bean?e.props.handleStopEditing():(e.setState(Object(h.a)({},L)),e.props.history.push("/"))})).catch((function(e){return console.log(e)}))}},{key:"render",value:function(){var e=M.map((function(e,t){return Object(a.jsx)("option",{value:e,children:e},t+1)})),t=[1,2,3,4,5].map((function(e,t){return Object(a.jsx)("option",{value:e,children:e},t+1)})),n=this.props.bean?"Save":"Add Bean";return Object(a.jsxs)("div",{className:"static-detail",children:[Object(a.jsx)(F,{}),this.props.bean?null:Object(a.jsx)(I,{}),Object(a.jsxs)("div",{className:"detail-card",children:[Object(a.jsxs)("form",{children:[Object(a.jsxs)("div",{style:{paddingTop:"20px",width:"75%"},className:"bean-field detail-text detail-text-left",children:[Object(a.jsx)("label",{children:"Name"}),Object(a.jsx)("input",{onChange:this.handleChange,type:"text",name:"name",value:this.state.name})]}),Object(a.jsxs)("div",{className:"bean-field detail-text detail-text-left",children:[Object(a.jsx)("label",{children:"Roaster"}),Object(a.jsx)("input",{onChange:this.handleChange,type:"text",name:"roaster",value:this.state.roaster})]}),Object(a.jsxs)("div",{className:"bean-field detail-text detail-text-left",children:[Object(a.jsx)("label",{children:"Place of Origin"}),Object(a.jsx)("input",{onChange:this.handleChange,type:"text",name:"origin",value:this.state.origin})]}),Object(a.jsxs)("div",{className:"bean-field detail-text detail-text-left",children:[Object(a.jsx)("label",{children:"Roast"}),Object(a.jsxs)("select",{onChange:this.handleChange,name:"roast",value:this.state.roast,children:[Object(a.jsx)("option",{value:"",disabled:!0,children:"Roast"},"0"),e]})]}),Object(a.jsxs)("div",{className:"bean-field detail-text detail-text-left",children:[Object(a.jsx)("label",{children:"Rating"}),Object(a.jsxs)("select",{onChange:this.handleChange,name:"rating",value:this.state.rating,children:[Object(a.jsx)("option",{value:"0",disabled:!0,children:"Rating"},"0"),t]})]})]}),this.state.song?Object(a.jsx)("div",{className:"bean-field",children:Object(a.jsxs)("div",{className:"songContainer songCenter",children:[Object(a.jsx)("img",{className:"songImage",alt:"album cover",src:"".concat(this.state.song.album.images[0].url),width:"60",height:"60"}),Object(a.jsxs)("div",{className:"songText",children:[Object(a.jsxs)("div",{children:[" ",this.state.song.album.name," "]}),Object(a.jsxs)("div",{children:[" ",this.state.song.artists[0].name," "]}),Object(a.jsxs)("div",{children:[" ",this.state.song.name," "]})]})]})}):null,this.props.bean?Object(a.jsx)("button",{className:"cancelButton",onClick:this.handleCancel,children:"Cancel"}):null,Object(a.jsx)("button",{className:"detail-btn-container",onClick:this.handleSubmit,children:n})]})]})}}]),n}(c.a.Component),R=Object(l.g)(A),_={brewMethod:"",time:"",ratio:"",notes:"",beanId:"",updatedAt:""},U=function(e){Object(p.a)(n,e);var t=Object(g.a)(n);function n(e){var a;return Object(m.a)(this,n),(a=t.call(this,e)).defaultState=a.props.location.state.note?Object(h.a)({},a.props.location.state.note):Object(h.a)({},_),a.state=a.defaultState,a.handleChange=a.handleChange.bind(Object(x.a)(a)),a.handleSubmit=a.handleSubmit.bind(Object(x.a)(a)),a}return Object(O.a)(n,[{key:"componentDidMount",value:function(){this.props.location.state.beanId&&this.setState({beanId:this.props.location.state.beanId})}},{key:"handleChange",value:function(e){this.setState(Object(u.a)({},e.target.name,e.target.value))}},{key:"handleSubmit",value:function(){var e,t={userId:window.currentUser.id,beanId:this.state.beanId,brewMethod:this.state.brewMethod,ratio:this.state.ratio,time:this.state.time,notes:this.state.notes};this.props.location.state.note?(t.id=this.state._id,(e=t,v.a.patch("/api/notes",e)).then((function(){console.log("new note succesfully updated")})).catch((function(e){return console.log(e)}))):function(e){return v.a.post("/api/notes",e)}(t).then((function(){console.log("new note successfully added")})).catch((function(e){return console.log(e)})),this.props.history.push("/notes/bean/".concat(this.state.beanId))}},{key:"render",value:function(){return Object(a.jsxs)("div",{children:[Object(a.jsx)(F,{}),Object(a.jsxs)("div",{className:"note-index-page",children:[Object(a.jsx)(r.b,{to:"/notes/bean/".concat(this.state.beanId),children:Object(a.jsx)("button",{children:Object(a.jsx)("i",{className:"fas fa-angle-left"})})}),Object(a.jsx)("div",{className:"brewEntriesNotes",children:" Brew Entries "}),Object(a.jsx)("button",{onClick:this.handleSubmit,children:" finished "}),Object(a.jsx)("form",{children:Object(a.jsx)("div",{className:"brew-entry-form",children:Object(a.jsxs)("div",{className:"note-container",children:[Object(a.jsxs)("div",{className:"note-wrapper",children:[Object(a.jsx)("div",{className:"note-item-header",children:" Brew Method "}),Object(a.jsx)("input",{className:"note-input-text",onChange:this.handleChange,type:"text",name:"brewMethod",value:this.state.brewMethod})]}),Object(a.jsxs)("div",{className:"note-wrapper",children:[Object(a.jsx)("div",{className:"note-item-header",children:" Brew Time "}),Object(a.jsx)("input",{className:"note-input-text",onChange:this.handleChange,type:"text",name:"time",value:this.state.time})]}),Object(a.jsxs)("div",{className:"note-wrapper",children:[Object(a.jsx)("div",{className:"note-item-header",children:" Coffee to Water Ratio "}),Object(a.jsx)("input",{className:"note-input-text",onChange:this.handleChange,type:"text",name:"ratio",value:this.state.ratio})]}),Object(a.jsxs)("div",{className:"note-wrapper",children:[Object(a.jsx)("div",{className:"note-item-header",children:" Notes "}),Object(a.jsx)("input",{onChange:this.handleChange,className:"note-input-text my-notes",type:"text",name:"notes",value:this.state.notes})]})]})})})]})]})}}]),n}(c.a.Component),P=Object(l.g)(U),W=function(){return Object(a.jsx)(r.b,{to:"/beans/new",children:Object(a.jsx)("button",{id:"new-btn",children:Object(a.jsx)("i",{className:"fas fa-plus"})})})},z=function(e,t){return e.length>t?"".concat(e.slice(0,t),"..."):e},J=function(e){var t=e.bean;return Object(a.jsx)("li",{className:"bean-item-container",children:Object(a.jsxs)(r.b,{className:"bean-item",to:"/beans/".concat(t._id),children:[Object(a.jsx)("div",{className:"img-container",children:Object(a.jsx)("img",{alt:"Bean",src:"https://raw.githubusercontent.com/nateychau/coffee_notes/main/frontend/public/images/placeholder.jpg"})}),Object(a.jsxs)("div",{className:"bean-item-text",children:[Object(a.jsx)("h2",{children:z(t.name,20)}),Object(a.jsx)("h4",{children:t.roaster}),Object(a.jsx)("div",{children:t.origin}),Object(a.jsx)("div",{children:t.roast})]})]})})},q=function(e){var t=e.bean;return Object(a.jsxs)("li",{className:"current-bean-container",children:[Object(a.jsx)("h2",{children:"current beans"}),Object(a.jsxs)(r.b,{className:"current-bean-item",to:"/beans/".concat(t._id),children:[Object(a.jsx)("div",{className:"current-bean-left",children:Object(a.jsxs)("div",{className:"img-container",children:[Object(a.jsx)("img",{alt:"Bean",src:"https://raw.githubusercontent.com/nateychau/coffee_notes/main/frontend/public/images/placeholder.jpg"}),Object(a.jsx)("div",{children:"Placeholder for Song"})]})}),Object(a.jsxs)("div",{className:"current-bean-right",children:[Object(a.jsx)("h2",{children:"Name"}),Object(a.jsx)("div",{children:z(t.name,20)}),Object(a.jsx)("h2",{children:"Roaster"}),Object(a.jsx)("div",{children:t.roaster}),Object(a.jsx)("h2",{children:"Place of Origin"}),Object(a.jsx)("div",{children:t.origin}),Object(a.jsx)("h2",{children:"Roast"}),Object(a.jsx)("div",{children:t.roast}),Object(a.jsx)("h2",{children:"Rating"}),Object(a.jsx)("div",{children:t.rating})]})]})]})},G=function(e){Object(p.a)(n,e);var t=Object(g.a)(n);function n(e){var a;return Object(m.a)(this,n),(a=t.call(this,e)).state={beans:[]},a}return Object(O.a)(n,[{key:"componentDidMount",value:function(){var e,t=this;(e=window.currentUser.id,v.a.get("/api/beans/user/".concat(e))).then((function(e){t.setState({beans:e.data})})).catch((function(e){return console.log(e)}))}},{key:"render",value:function(){var e=this.state.beans.length?this.state.beans.map((function(e,t){return 0===t?Object(a.jsx)(q,{bean:e},t):Object(a.jsx)(J,{bean:e},t)})):[];return Object(a.jsx)("div",{className:"bean-index",children:Object(a.jsx)("ul",{className:"bean-list",children:e})})}}]),n}(c.a.Component),H=function(){return Object(a.jsxs)("div",{className:"home",children:[Object(a.jsx)(F,{}),Object(a.jsx)(r.b,{to:"/settings",className:"settings-btn",children:Object(a.jsx)("button",{children:Object(a.jsx)("i",{className:"fas fa-cog"})})}),Object(a.jsx)(G,{}),Object(a.jsx)(W,{})]})},K=n(20),Q=function(e){var t=e.bean,n=e.notes,c=e.spotifyFlag,i=e.handleDelete,o=e.handleEdit,l=Object(s.useState)(!1),d=Object(K.a)(l,2),h=d[0],j=d[1];return Object(a.jsxs)("div",{className:"static-detail",children:[Object(a.jsx)(I,{}),Object(a.jsx)("div",{className:"img-container",children:Object(a.jsx)("img",{alt:"Bean",src:"https://raw.githubusercontent.com/nateychau/coffee_notes/main/frontend/public/images/placeholder.jpg"})}),Object(a.jsxs)("div",{className:"detail-card",children:[Object(a.jsxs)("div",{onBlur:function(e){e.currentTarget.contains(e.relatedTarget)||j(!1)},className:"detail-btn-container",children:[Object(a.jsx)("button",{onClick:function(){return j(!h)},children:Object(a.jsx)("i",{className:"fas fa-ellipsis-h"})}),h?Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("button",{onClick:i,children:Object(a.jsx)("i",{className:"fas fa-trash"})}),Object(a.jsx)("button",{onClick:o,children:Object(a.jsx)("i",{className:"fas fa-pen"})})]}):null]}),Object(a.jsx)("h2",{className:"bean-name",children:"Name"}),Object(a.jsx)("div",{className:"bean-name",children:t.name}),Object(a.jsxs)("div",{className:"detail-text",children:[Object(a.jsxs)("div",{className:"detail-text-left",children:[Object(a.jsx)("h2",{children:"Roaster"}),Object(a.jsx)("div",{children:t.roaster}),Object(a.jsx)("h2",{children:"Place of Origin"}),Object(a.jsx)("div",{children:t.origin}),Object(a.jsx)("h2",{children:"Roast"}),Object(a.jsx)("div",{children:t.roast}),Object(a.jsx)("h2",{children:"Rating"}),Object(a.jsx)("div",{children:t.rating})]}),n?Object(a.jsxs)("div",{className:"detail-text-right",children:[Object(a.jsx)("h2",{children:" Brew Method "}),Object(a.jsx)("div",{children:n.brewMethod}),Object(a.jsx)("h2",{children:"Brew Time"}),Object(a.jsx)("div",{children:n.time}),Object(a.jsx)("h2",{children:" Coffee to Water Ratio "}),Object(a.jsx)("div",{children:n.ratio}),Object(a.jsx)("h2",{children:"Personal Notes"}),Object(a.jsx)("div",{children:n.notes})]}):Object(a.jsxs)("div",{className:"detail-text-right no-note",children:[Object(a.jsx)("div",{children:" No entries yet "}),Object(a.jsx)(r.b,{to:{pathname:"/notes/new",state:{beanId:t._id}},children:Object(a.jsx)("button",{children:"Add a Brew Entry"})})]})]}),t.song?Object(a.jsxs)("div",{className:"songContainer songCenter",children:[Object(a.jsx)("a",{href:"".concat(t.song.external_urls.spotify),children:Object(a.jsx)("img",{className:"songImage",alt:"album cover",src:"".concat(t.song.album.images[0].url),width:"60",height:"60"})}),Object(a.jsxs)("div",{className:"songText",children:[Object(a.jsxs)("div",{children:[" ",t.song.album.name," "]}),Object(a.jsxs)("div",{children:[" ",t.song.artists[0].name," "]}),Object(a.jsxs)("div",{children:[" ",t.song.name," "]})]})]}):c?Object(a.jsx)(r.b,{to:{pathname:"/spotify/bean/".concat(t._id),state:{bean:t}},className:"spotifyContainer songCenter",children:Object(a.jsx)("div",{children:"connect a song to ".concat(t.name)})}):Object(a.jsx)("div",{className:"spotifyContainer songCenter",children:"connect your spotify to add a song"}),n?Object(a.jsx)(r.b,{className:"brewEntries",to:"/notes/bean/".concat(n.beanId),children:Object(a.jsx)("div",{className:"brewEntriesButton",children:" view all entries "})}):null]})]})},V=function(e){Object(p.a)(n,e);var t=Object(g.a)(n);function n(e){var a;return Object(m.a)(this,n),(a=t.call(this,e)).state={editing:!1,bean:null,notes:null,spotifyFlag:!1},a.handleDelete=a.handleDelete.bind(Object(x.a)(a)),a.handleEdit=a.handleEdit.bind(Object(x.a)(a)),a.handleStopEditing=a.handleStopEditing.bind(Object(x.a)(a)),a}return Object(O.a)(n,[{key:"handleDelete",value:function(){var e,t=this;(e=this.state.bean._id,v.a.delete("/api/beans/".concat(e))).then((function(e){t.props.history.push("/")})).catch((function(e){return console.log(e)}))}},{key:"handleEdit",value:function(){this.setState({editing:!0})}},{key:"handleStopEditing",value:function(){var e=this;this.setState({editing:!1}),N(this.props.match.params.id).then((function(t){e.setState({bean:t.data})})).catch((function(e){return console.log(e)}))}},{key:"componentDidMount",value:function(){var e,t=this;this.setState({editing:!1}),N(this.props.match.params.id).then((function(e){t.setState({bean:e.data})})).catch((function(e){return console.log(e)})),(e=this.props.match.params.id,v.a.get("/api/notes/recent/".concat(e))).then((function(e){t.setState({notes:e.data})})).catch((function(e){return console.log(e)})),y().then((function(e){t.setState({spotifyFlag:!0})})).catch((function(e){return console.log(e)}))}},{key:"render",value:function(){if(!this.state.bean)return null;var e=this.state.editing?Object(a.jsx)(R,{bean:this.state.bean,handleStopEditing:this.handleStopEditing}):Object(a.jsx)(Q,{bean:this.state.bean,notes:this.state.notes,spotifyFlag:this.state.spotifyFlag,handleDelete:this.handleDelete,handleEdit:this.handleEdit});return Object(a.jsx)("div",{children:e})}}]),n}(c.a.Component),X=function(e){return e.updatedAt.slice(0,9)},Y=function(e){var t=e.note,n=e.handleDelete,c=Object(s.useState)(!1),i=Object(K.a)(c,2),o=i[0],l=i[1];return Object(a.jsx)("li",{className:"note-item-container",children:Object(a.jsxs)("div",{className:"note-container",children:[Object(a.jsxs)("div",{className:"note-wrapper",children:[Object(a.jsx)("div",{className:"note-item-header",children:" Date "}),Object(a.jsx)("div",{className:"note-item-text",children:X(t)})]}),Object(a.jsx)("div",{children:Object(a.jsxs)("div",{onBlur:function(e){e.currentTarget.contains(e.relatedTarget)||l(!1)},className:"options-detail",children:[Object(a.jsx)("button",{onClick:function(){return l(!o)},children:Object(a.jsx)("i",{className:"fas fa-ellipsis-h"})}),o?Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("button",{onClick:function(){n(t)},children:Object(a.jsx)("i",{className:"fas fa-trash"})}),Object(a.jsx)(r.b,{to:{pathname:"/notes/new",state:{note:t}},children:Object(a.jsx)("button",{children:Object(a.jsx)("i",{className:"fas fa-pen"})})})]}):null]})}),Object(a.jsxs)("div",{className:"note-wrapper",children:[Object(a.jsx)("div",{className:"note-item-header",children:" Brew Method "}),Object(a.jsx)("div",{className:"note-item-text",children:t.brewMethod})]}),Object(a.jsxs)("div",{className:"note-wrapper",children:[Object(a.jsx)("div",{className:"note-item-header",children:" Brew Time "}),Object(a.jsx)("div",{className:"note-item-text",children:t.time})]}),Object(a.jsxs)("div",{className:"note-wrapper",children:[Object(a.jsx)("div",{className:"note-item-header",children:" Coffee to Water Ratio "}),Object(a.jsx)("div",{className:"note-item-text",children:t.ratio})]}),Object(a.jsxs)("div",{className:"note-wrapper",children:[Object(a.jsx)("div",{className:"note-item-header",children:" Notes "}),Object(a.jsx)("div",{className:"note-item-text",children:t.notes})]})]})})},Z=function(e){Object(p.a)(n,e);var t=Object(g.a)(n);function n(e){var a;return Object(m.a)(this,n),a=t.call(this,e),console.log(a.props),a.state={notes:[],beanId:""},a}return Object(O.a)(n,[{key:"componentDidMount",value:function(){var e,t=this;(e=this.props.match.params.id,v.a.get("/api/notes/bean/".concat(e))).then((function(e){t.setState({notes:e.data}),t.setState({beanId:t.props.match.params.id})})).catch((function(e){return console.log(e)}))}},{key:"handleDelete",value:function(e){var t;(t=e._id,v.a.delete("/api/notes/".concat(t))).then((function(e){console.log(e),window.location.reload()})).catch((function(e){return console.log(e)}))}},{key:"render",value:function(){var e=this,t=this.state.notes.length?this.state.notes.map((function(t,n){return Object(a.jsx)(Y,{note:t,handleDelete:e.handleDelete,handleEdit:e.handleEdit},n)})):[];return Object(a.jsxs)("div",{className:"note-index-page",children:[Object(a.jsx)(F,{}),Object(a.jsxs)("div",{className:"notes-container",children:[Object(a.jsx)(r.b,{to:"/beans/".concat(this.props.match.params.id),children:Object(a.jsx)("div",{className:"backButton",children:" go back "})}),Object(a.jsx)("div",{className:"brewEntriesNotes",children:" Brew Entries "}),Object(a.jsx)(r.b,{to:{pathname:"/notes/new",state:{beanId:this.state.beanId}},children:Object(a.jsx)("button",{className:"addNewBrewEntry",children:Object(a.jsx)("i",{className:"fas fa-plus"})})})]}),Object(a.jsx)("div",{className:"notes-index",children:Object(a.jsx)("ul",{className:"notes-list",children:t})})]})}}]),n}(c.a.Component),$=function(e){var t=e.songs,n=e.addSongToBean;return console.log(t),Object(a.jsxs)("li",{children:[Object(a.jsxs)("div",{className:"songContainer",children:[Object(a.jsx)("img",{alt:"album cover",src:"".concat(t.album.images[0].url),width:"80",height:"80"}),Object(a.jsxs)("div",{style:{color:"var(--light-text-color)"},className:"songText",children:[Object(a.jsxs)("div",{children:[" ",t.album.name," "]}),Object(a.jsxs)("div",{children:[" ",t.name," "]}),Object(a.jsxs)("div",{children:[" ",t.artists[0].name," "]})]}),Object(a.jsx)("button",{className:"addSongButton",onClick:function(){return n(t)},children:"add song"})]}),Object(a.jsx)("br",{})]})},ee=function(e){Object(p.a)(n,e);var t=Object(g.a)(n);function n(e){var a;return Object(m.a)(this,n),(a=t.call(this,e)).state={userSong:"",songs:[],bean:a.props.location.state.bean},a.handleChange=a.handleChange.bind(Object(x.a)(a)),a.searchSong=a.searchSong.bind(Object(x.a)(a)),a.addSongToBean=a.addSongToBean.bind(Object(x.a)(a)),a}return Object(O.a)(n,[{key:"handleChange",value:function(e){this.setState(Object(u.a)({},e.target.name,e.target.value))}},{key:"addSongToBean",value:function(e){var t={userId:window.currentUser.id,id:this.state.bean,song:e};console.log(t),w(t).then((function(e){console.log("successfully added song to bean"),console.log(e)})).catch((function(e){return console.log(e)}))}},{key:"searchSong",value:function(){var e,t=this;console.log(this.state),(e=this.state.userSong,v.a.get("/api/spotify/search/songs/".concat(e))).then((function(e){t.setState({songs:e.data.tracks.items}),console.log(t.state)})).catch((function(e){return console.log(e)}))}},{key:"render",value:function(){var e=this,t=this.state.songs.length?this.state.songs.map((function(t,n){return Object(a.jsx)($,{songs:t,addSongToBean:e.addSongToBean},n)})):[];return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(F,{}),Object(a.jsx)(r.b,{to:{pathname:"/beans/".concat(this.state.bean._id)},children:Object(a.jsx)("div",{children:"back"})}),Object(a.jsx)("br",{}),Object(a.jsxs)("div",{children:[Object(a.jsx)("input",{placeholder:"Search Spotify for your song",onChange:this.handleChange,type:"text",name:"userSong",value:this.state.userSong}),Object(a.jsx)("button",{className:"",onClick:this.searchSong,children:" search "})]}),Object(a.jsx)("ul",{children:t})]})}}]),n}(c.a.Component),te=function(){return Object(a.jsx)(r.a,{children:Object(a.jsxs)("div",{className:"main",children:[Object(a.jsx)(j,{exact:!0,path:"/",component:E}),Object(a.jsxs)(l.d,{children:[Object(a.jsx)(b,{path:"/beans/new",type:"new",component:R}),Object(a.jsx)(b,{path:"/notes/new",type:"new",component:P}),Object(a.jsx)(b,{path:"/beans/:id",component:V}),Object(a.jsx)(b,{path:"/notes/bean/:id",component:Z}),Object(a.jsx)(b,{path:"/settings",component:D}),Object(a.jsx)(b,{exact:!0,path:"/",component:H}),Object(a.jsx)(b,{path:"/spotify/bean/:id",component:ee}),Object(a.jsx)(b,{path:"/spotify/login",component:function(){return window.location.href="http://localhost:5000/api/spotify/login/".concat(window.currentUser.id),null}})]})]})})};document.addEventListener("DOMContentLoaded",(function(){if(localStorage.jwtToken){S(localStorage.jwtToken);var e=Object(C.a)(localStorage.jwtToken);window.currentUser=e;var t=Date.now()/1e3;e.exp<t&&(B(),window.location.href="/")}var n=document.getElementById("root");o.a.render(Object(a.jsx)(te,{}),n)}))}},[[64,1,2]]]);
//# sourceMappingURL=main.8428c99a.chunk.js.map